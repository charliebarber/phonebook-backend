{"version":3,"sources":["Components/Filter.js","Components/Numbers.js","Components/PersonForm.js","services/persons.js","Components/Notification.js","App.js","index.js"],"names":["Filter","props","onChange","onSearch","value","Number","details","handleDelete","name","number","onClick","Numbers","numbers","handleDeleteOf","map","key","id","PersonForm","onNameChange","onNumChange","num","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","style","color","fontSize","borderStyle","borderRadius","textAlign","margin","App","useState","persons","setPersons","newName","setNewName","newNum","setNewNum","useEffect","personsService","allPersons","addPerson","personObject","returnedPerson","console","log","concat","displayMessage","catch","error","newSearch","setNewSearch","search","setSearch","setMessage","setTimeout","event","target","preventDefault","searchResults","filter","person","toLowerCase","includes","find","window","confirm","existing","updated","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f8f002ac.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n\n    return(\n    <form>\n        <div>\n          Search for: <input onChange={props.onSearch} value={props.value}/>\n        </div>\n      </form>\n    )\n}\n\nexport default Filter;","import React from \"react\";\n\nconst Numbers = ({ numbers, handleDeleteOf }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      <div>\n        {numbers.map((number) => (\n          <Number key={number.id} details={number} handleDelete={() => handleDeleteOf(number)}/>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst Number = ({ details, handleDelete }) => {\n  return (\n    <div>\n      {details.name} : {details.number} <button onClick={handleDelete}>Delete</button>\n    </div>\n  );\n};\n\nexport default Numbers;","import React from 'react'\n\nconst PersonForm = (props) => {\n\n\n  return (\n    <form>\n      <div>\n        name: <input onChange={props.onNameChange} value={props.name} />\n      </div>\n      <div>\n        number: <input onChange={props.onNumChange} value={props.num} />\n      </div>\n      <div>\n        <button onClick={props.onSubmit} type=\"submit\">\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request =  axios.post(baseUrl, newObject)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst deleteResource = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`,newObject)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, deleteResource, update};","import React from 'react';\n\nconst Notification = ({message}) => {\n    const style = {\n        color: 'green',\n        fontSize: '24px',\n        borderStyle: 'solid',\n        borderRadius: '4px',\n        textAlign: 'center',\n        margin: '16px'\n    }\n\n    if (message === '') {\n        return null\n    }\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport Filter from './Components/Filter';\nimport Numbers from './Components/Numbers'\nimport PersonForm from './Components/PersonForm';\nimport personsService from './services/persons';\nimport Notification from './Components/Notification';\n\nconst App = () => {\n  const [persons, setPersons ] = useState([]) \n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(allPersons => {\n        setPersons(allPersons)\n      })\n  },[])\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (persons.find((person) => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the older number with a new one?`)) {\n        const existing = persons.find((person) => person.name === newName)\n        const updated = {\n          ...existing,\n          name: newName,\n          number: newNum\n        }\n        personsService\n          .update(existing.id, updated)\n          .then((response) => {\n            setPersons(persons.map((person) => person.id !== existing.id ? person : response))\n            displayMessage(`Updated ${updated.name}`)\n          })\n          .catch(error => {\n            displayMessage(`Error. ${updated.name} has already been deleted from the server`)\n            setPersons(persons.filter(person => person.name !== existing.name))\n          })\n      }\n    } else {\n      addPerson()\n    }\n    setNewName(\"\");\n    setNewNum(\"\");\n  };\n\n  const addPerson = () => {\n    const personObject = {\n      name: newName,\n      number: newNum\n    }\n    personsService\n      .create(personObject)\n      .then(returnedPerson => {\n        console.log('then called', returnedPerson)\n        setPersons(persons.concat(returnedPerson))\n        displayMessage(`Added ${personObject.name}`)\n      })\n      .catch(error => {\n        displayMessage(error.response.data.error)\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumChange = (event) => {\n    setNewNum(event.target.value);\n  };\n\n  const [ newSearch, setNewSearch] = useState('')\n  const [ search, setSearch ] = useState([])\n\n  const handleSearch = (event) => {\n    if (event.target.value === '') {\n      setNewSearch(event.target.value)\n      setSearch([])\n    } else {\n      event.preventDefault();\n      setNewSearch(event.target.value)\n      const searchResults = persons.filter((person) => person.name.toLowerCase().includes(event.target.value.toLowerCase()));\n      setSearch(searchResults)\n    }\n  }\n\n  const deletePerson = (number) => {\n    if (window.confirm(`Delete ${number.name} ?`))\n    personsService\n      .deleteResource(number.id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== number.id))\n      })\n  }\n\n  const [message, setMessage] = useState('') \n\n  const displayMessage = (message) => {\n    setMessage(message)\n    setTimeout(() => {\n      setMessage('')\n    },3000)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter \n        value={newSearch}\n        onSearch={handleSearch}\n      />\n      <h3>Add a new number</h3>\n      <PersonForm\n        name={newName}\n        num={newNum}\n        onNameChange={handleNameChange}\n        onNumChange={handleNumChange}\n        onSubmit={handleSubmit}\n      />\n      <Numbers numbers={search.length === 0 ? persons : search} handleDeleteOf={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}