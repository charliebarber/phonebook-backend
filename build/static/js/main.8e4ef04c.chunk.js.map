{"version":3,"sources":["Components/Filter.js","Components/Numbers.js","Components/PersonForm.js","services/persons.js","Components/Notification.js","App.js","index.js"],"names":["Filter","props","onChange","onSearch","value","Number","details","handleDelete","name","number","onClick","Numbers","numbers","handleDeleteOf","map","key","id","PersonForm","onNameChange","onNumChange","num","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","style","color","fontSize","borderStyle","borderRadius","textAlign","margin","App","useState","persons","setPersons","newName","setNewName","newNum","setNewNum","useEffect","personsService","allPersons","addPerson","personObject","returnedPerson","concat","displayMessage","newSearch","setNewSearch","search","setSearch","setMessage","setTimeout","event","target","preventDefault","searchResults","filter","person","toLowerCase","includes","find","window","confirm","existing","updated","catch","error","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8e4ef04c.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n\n    return(\n    <form>\n        <div>\n          Search for: <input onChange={props.onSearch} value={props.value}/>\n        </div>\n      </form>\n    )\n}\n\nexport default Filter;","import React from \"react\";\n\nconst Numbers = ({ numbers, handleDeleteOf }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      <div>\n        {numbers.map((number) => (\n          <Number key={number.id} details={number} handleDelete={() => handleDeleteOf(number)}/>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst Number = ({ details, handleDelete }) => {\n  return (\n    <div>\n      {details.name} : {details.number} <button onClick={handleDelete}>Delete</button>\n    </div>\n  );\n};\n\nexport default Numbers;","import React from 'react'\n\nconst PersonForm = (props) => {\n\n\n  return (\n    <form>\n      <div>\n        name: <input onChange={props.onNameChange} value={props.name} />\n      </div>\n      <div>\n        number: <input onChange={props.onNumChange} value={props.num} />\n      </div>\n      <div>\n        <button onClick={props.onSubmit} type=\"submit\">\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request =  axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteResource = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`,newObject)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, deleteResource, update};","import React from 'react';\n\nconst Notification = ({message}) => {\n    const style = {\n        color: 'green',\n        fontSize: '24px',\n        borderStyle: 'solid',\n        borderRadius: '4px',\n        textAlign: 'center',\n        margin: '16px'\n    }\n\n    if (message === '') {\n        return null\n    }\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport Filter from './Components/Filter';\nimport Numbers from './Components/Numbers'\nimport PersonForm from './Components/PersonForm';\nimport personsService from './services/persons';\nimport Notification from './Components/Notification';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(allPersons => {\n        setPersons(allPersons)\n      })\n  },[])\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (persons.find((person) => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the older number with a new one?`)) {\n        const existing = persons.find((person) => person.name === newName)\n        const updated = {\n          ...existing,\n          name: newName,\n          number: newNum\n        }\n        personsService\n          .update(existing.id, updated)\n          .then((response) => {\n            setPersons(persons.map((person) => person.id !== existing.id ? person : response))\n            displayMessage(`Updated ${updated.name}`)\n          })\n          .catch(error => {\n            displayMessage(`Error. ${updated.name} has already been deleted from the server`)\n            setPersons(persons.filter(person => person.name !== existing.name))\n          })\n      }\n    } else {\n      addPerson()\n    }\n    setNewName(\"\");\n    setNewNum(\"\");\n  };\n\n  const addPerson = () => {\n    const personObject = {\n      name: newName,\n      number: newNum\n    }\n    personsService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        displayMessage(`Added ${personObject.name}`)\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumChange = (event) => {\n    setNewNum(event.target.value);\n  };\n\n  const [ newSearch, setNewSearch] = useState('')\n  const [ search, setSearch ] = useState([])\n\n  const handleSearch = (event) => {\n    if (event.target.value === '') {\n      setNewSearch(event.target.value)\n      setSearch([])\n    } else {\n      event.preventDefault();\n      setNewSearch(event.target.value)\n      const searchResults = persons.filter((person) => person.name.toLowerCase().includes(event.target.value.toLowerCase()));\n      setSearch(searchResults)\n    }\n  }\n\n  const deletePerson = (number) => {\n    if (window.confirm(`Delete ${number.name} ?`))\n    personsService\n      .deleteResource(number.id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== number.id))\n      })\n  }\n\n  const [message, setMessage] = useState('') \n\n  const displayMessage = (message) => {\n    setMessage(message)\n    setTimeout(() => {\n      setMessage('')\n    },3000)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter \n        value={newSearch}\n        onSearch={handleSearch}\n      />\n      <h3>Add a new number</h3>\n      <PersonForm\n        name={newName}\n        num={newNum}\n        onNameChange={handleNameChange}\n        onNumChange={handleNumChange}\n        onSubmit={handleSubmit}\n      />\n      <Numbers numbers={search.length === 0 ? persons : search} handleDeleteOf={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}