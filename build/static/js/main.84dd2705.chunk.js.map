{"version":3,"sources":["Components/Filter.js","Components/Numbers.js","Components/PersonForm.js","services/persons.js","Components/Notification.js","App.js","index.js"],"names":["Filter","props","onChange","onSearch","value","Number","details","handleDelete","name","number","onClick","Numbers","numbers","handleDeleteOf","map","key","id","PersonForm","onNameChange","onNumChange","num","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","console","log","delete","put","Notification","message","style","color","fontSize","borderStyle","borderRadius","textAlign","margin","App","useState","persons","setPersons","newName","setNewName","newNum","setNewNum","useEffect","personsService","allPersons","addPerson","personObject","returnedPerson","concat","displayMessage","newSearch","setNewSearch","search","setSearch","setMessage","setTimeout","event","target","preventDefault","searchResults","filter","person","toLowerCase","includes","find","window","confirm","existing","updated","catch","error","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.84dd2705.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n\n    return(\n    <form>\n        <div>\n          Search for: <input onChange={props.onSearch} value={props.value}/>\n        </div>\n      </form>\n    )\n}\n\nexport default Filter;","import React from \"react\";\n\nconst Numbers = ({ numbers, handleDeleteOf }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      <div>\n        {numbers.map((number) => (\n          <Number key={number.id} details={number} handleDelete={() => handleDeleteOf(number)}/>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst Number = ({ details, handleDelete }) => {\n  return (\n    <div>\n      {details.name} : {details.number} <button onClick={handleDelete}>Delete</button>\n    </div>\n  );\n};\n\nexport default Numbers;","import React from 'react'\n\nconst PersonForm = (props) => {\n\n\n  return (\n    <form>\n      <div>\n        name: <input onChange={props.onNameChange} value={props.name} />\n      </div>\n      <div>\n        number: <input onChange={props.onNumChange} value={props.num} />\n      </div>\n      <div>\n        <button onClick={props.onSubmit} type=\"submit\">\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request =  axios.post(baseUrl, newObject)\n    return request.then(response => {\n        console.log('axios', response.data)\n        return response.data\n    })\n}\n\nconst deleteResource = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`,newObject)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, deleteResource, update};","import React from 'react';\n\nconst Notification = ({message}) => {\n    const style = {\n        color: 'green',\n        fontSize: '24px',\n        borderStyle: 'solid',\n        borderRadius: '4px',\n        textAlign: 'center',\n        margin: '16px'\n    }\n\n    if (message === '') {\n        return null\n    }\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport Filter from './Components/Filter';\nimport Numbers from './Components/Numbers'\nimport PersonForm from './Components/PersonForm';\nimport personsService from './services/persons';\nimport Notification from './Components/Notification';\n\nconst App = () => {\n  const [persons, setPersons ] = useState([]) \n  const [newName, setNewName] = useState(\"\");\n  const [newNum, setNewNum] = useState(\"\");\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(allPersons => {\n        setPersons(allPersons)\n      })\n  },[])\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (persons.find((person) => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the older number with a new one?`)) {\n        const existing = persons.find((person) => person.name === newName)\n        const updated = {\n          ...existing,\n          name: newName,\n          number: newNum\n        }\n        personsService\n          .update(existing.id, updated)\n          .then((response) => {\n            setPersons(persons.map((person) => person.id !== existing.id ? person : response))\n            displayMessage(`Updated ${updated.name}`)\n          })\n          .catch(error => {\n            displayMessage(`Error. ${updated.name} has already been deleted from the server`)\n            setPersons(persons.filter(person => person.name !== existing.name))\n          })\n      }\n    } else {\n      addPerson()\n    }\n    setNewName(\"\");\n    setNewNum(\"\");\n  };\n\n  const addPerson = () => {\n    const personObject = {\n      name: newName,\n      number: newNum\n    }\n    personsService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        displayMessage(`Added ${personObject.name}`)\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumChange = (event) => {\n    setNewNum(event.target.value);\n  };\n\n  const [ newSearch, setNewSearch] = useState('')\n  const [ search, setSearch ] = useState([])\n\n  const handleSearch = (event) => {\n    if (event.target.value === '') {\n      setNewSearch(event.target.value)\n      setSearch([])\n    } else {\n      event.preventDefault();\n      setNewSearch(event.target.value)\n      const searchResults = persons.filter((person) => person.name.toLowerCase().includes(event.target.value.toLowerCase()));\n      setSearch(searchResults)\n    }\n  }\n\n  const deletePerson = (number) => {\n    if (window.confirm(`Delete ${number.name} ?`))\n    personsService\n      .deleteResource(number.id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== number.id))\n      })\n  }\n\n  const [message, setMessage] = useState('') \n\n  const displayMessage = (message) => {\n    setMessage(message)\n    setTimeout(() => {\n      setMessage('')\n    },3000)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter \n        value={newSearch}\n        onSearch={handleSearch}\n      />\n      <h3>Add a new number</h3>\n      <PersonForm\n        name={newName}\n        num={newNum}\n        onNameChange={handleNameChange}\n        onNumChange={handleNumChange}\n        onSubmit={handleSubmit}\n      />\n      <Numbers numbers={search.length === 0 ? persons : search} handleDeleteOf={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}